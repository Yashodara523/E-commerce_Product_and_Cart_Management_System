{"ast":null,"code":"import { combineReducers } from 'redux';\nimport { FETCH_PRODUCTS_REQUEST, FETCH_PRODUCTS_SUCCESS, FETCH_PRODUCTS_FAILURE, ADD_TO_CART, UPDATE_CART_QUANTITY, REMOVE_FROM_CART, PLACE_ORDER_REQUEST, PLACE_ORDER_SUCCESS, PLACE_ORDER_FAILURE } from './actions';\nconst initialState = {\n  products: [],\n  cart: [],\n  loading: false,\n  error: null,\n  orderSuccess: false\n};\nconst productReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case FETCH_PRODUCTS_REQUEST:\n      return {\n        ...state,\n        loading: true\n      };\n    case FETCH_PRODUCTS_SUCCESS:\n      return {\n        ...state,\n        loading: false,\n        products: action.payload\n      };\n    case FETCH_PRODUCTS_FAILURE:\n      return {\n        ...state,\n        loading: false,\n        error: action.payload\n      };\n    case ADD_TO_CART:\n      const existingProductIndex = state.cart.findIndex(item => item.id === action.payload.id);\n      if (existingProductIndex !== -1) {\n        const updatedCart = [...state.cart];\n        updatedCart[existingProductIndex].quantity += 1;\n        return {\n          ...state,\n          cart: updatedCart\n        };\n      } else {\n        return {\n          ...state,\n          cart: [...state.cart, {\n            ...action.payload,\n            quantity: 1\n          }]\n        };\n      }\n    case UPDATE_CART_QUANTITY:\n      return {\n        ...state,\n        cart: state.cart.map(item => item.id === action.payload.cartItemId ? {\n          ...item,\n          quantity: Math.min(action.payload.quantity, item.availableQuantity)\n        } : item)\n      };\n    case REMOVE_FROM_CART:\n      return {\n        ...state,\n        cart: state.cart.filter(item => item.id !== action.payload)\n      };\n    case PLACE_ORDER_REQUEST:\n      return {\n        ...state,\n        loading: true\n      };\n    case PLACE_ORDER_SUCCESS:\n      return {\n        ...state,\n        loading: false,\n        cart: [],\n        orderSuccess: true\n      };\n    case PLACE_ORDER_FAILURE:\n      return {\n        ...state,\n        loading: false,\n        error: action.payload\n      };\n    default:\n      return state;\n  }\n};\nexport default combineReducers({\n  product: productReducer\n});","map":{"version":3,"names":["combineReducers","FETCH_PRODUCTS_REQUEST","FETCH_PRODUCTS_SUCCESS","FETCH_PRODUCTS_FAILURE","ADD_TO_CART","UPDATE_CART_QUANTITY","REMOVE_FROM_CART","PLACE_ORDER_REQUEST","PLACE_ORDER_SUCCESS","PLACE_ORDER_FAILURE","initialState","products","cart","loading","error","orderSuccess","productReducer","state","action","type","payload","existingProductIndex","findIndex","item","id","updatedCart","quantity","map","cartItemId","Math","min","availableQuantity","filter","product"],"sources":["C:/Users/user/Desktop/E-commerce_Product_and_Cart_Management_System/src/redux/reducers.js"],"sourcesContent":["import { combineReducers } from 'redux';\r\nimport {\r\n  FETCH_PRODUCTS_REQUEST,\r\n  FETCH_PRODUCTS_SUCCESS,\r\n  FETCH_PRODUCTS_FAILURE,\r\n  ADD_TO_CART,\r\n  UPDATE_CART_QUANTITY,\r\n  REMOVE_FROM_CART,\r\n  PLACE_ORDER_REQUEST,\r\n  PLACE_ORDER_SUCCESS,\r\n  PLACE_ORDER_FAILURE\r\n} from './actions';\r\n\r\nconst initialState = {\r\n  products: [],\r\n  cart: [],\r\n  loading: false,\r\n  error: null,\r\n  orderSuccess: false\r\n};\r\n\r\nconst productReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case FETCH_PRODUCTS_REQUEST:\r\n      return { ...state, loading: true };\r\n    case FETCH_PRODUCTS_SUCCESS:\r\n      return { ...state, loading: false, products: action.payload };\r\n    case FETCH_PRODUCTS_FAILURE:\r\n      return { ...state, loading: false, error: action.payload };\r\n    case ADD_TO_CART:\r\n      const existingProductIndex = state.cart.findIndex(item => item.id === action.payload.id);\r\n      if (existingProductIndex !== -1) {\r\n        const updatedCart = [...state.cart];\r\n        updatedCart[existingProductIndex].quantity += 1;\r\n        return { ...state, cart: updatedCart };\r\n      } else {\r\n        return { ...state, cart: [...state.cart, { ...action.payload, quantity: 1 }] };\r\n      }\r\n    case UPDATE_CART_QUANTITY:\r\n      return {\r\n        ...state,\r\n        cart: state.cart.map(item =>\r\n          item.id === action.payload.cartItemId\r\n            ? { ...item, quantity: Math.min(action.payload.quantity, item.availableQuantity) }\r\n            : item\r\n        ),\r\n      };\r\n    case REMOVE_FROM_CART:\r\n      return { ...state, cart: state.cart.filter(item => item.id !== action.payload) };\r\n    case PLACE_ORDER_REQUEST:\r\n      return { ...state, loading: true };\r\n    case PLACE_ORDER_SUCCESS:\r\n      return { ...state, loading: false, cart: [], orderSuccess: true };\r\n    case PLACE_ORDER_FAILURE:\r\n      return { ...state, loading: false, error: action.payload };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default combineReducers({\r\n  product: productReducer\r\n});\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}